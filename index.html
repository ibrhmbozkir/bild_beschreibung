<!DOCTYPE html>
<html lang="de">
<head>
    <!-- Yandex Metrica -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){
            m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {
                if (document.scripts[j].src === r) { return; }
            }
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a);
        })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=104304423', 'ym');

        ym(104304423, 'init', {
            ssr:true,
            webvisor:true,
            clickmap:true,
            ecommerce:"dataLayer",
            accurateTrackBounce:true,
            trackLinks:true
        });
    </script>
    <noscript>
        <div>
            <img src="https://mc.yandex.ru/watch/104304423" style="position:absolute; left:-9999px;" alt="" />
        </div>
    </noscript>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bildbeschreibung Training - Deutsch Lernen</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
                Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 16px 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 28px;
            color: white;
        }

        .header h1 {
            font-size: 2.4rem;
            margin-bottom: 12px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .header h1 img {
            width: 28px;
            height: 28px;
            vertical-align: middle;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
            max-width: 650px;
            margin: 0 auto;
        }

        .stats {
            text-align: center;
            color: white;
            margin-bottom: 10px;
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .sort-info {
            text-align: center;
            color: white;
            margin-bottom: 24px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .image-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.25s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }

        .image-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 16px 40px rgba(0,0,0,0.3);
        }

        .image-preview {
            width: 100%;
            height: 190px;
            object-fit: cover;
            display: block;
            background: #e5e7eb;
        }

        .image-info {
            padding: 12px 14px 14px;
            text-align: center;
        }

        .image-number {
            font-weight: 700;
            color: #4f46e5;
            font-size: 1.05rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            justify-content: center;
        }

        .new-badge {
            background: #ef4444;
            color: white;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 0.78rem;
            text-transform: uppercase;
            letter-spacing: 0.04em;
        }

        .image-subtitle {
            font-size: 0.9rem;
            color: #6b7280;
            margin-top: 6px;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 18px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        .pagination button {
            background: white;
            border: none;
            padding: 10px 22px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.98rem;
            font-weight: 600;
            color: #4f46e5;
            transition: all 0.25s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .pagination button:hover:not(:disabled) {
            background: #4f46e5;
            color: white;
            transform: translateY(-2px);
        }

        .pagination button:disabled {
            opacity: 0.45;
            cursor: not-allowed;
            box-shadow: none;
        }

        .page-info {
            color: white;
            font-size: 1rem;
            font-weight: 600;
        }

        .page-info span {
            font-weight: 700;
        }

        .no-images {
            text-align: center;
            color: white;
            font-size: 1.1rem;
            padding: 32px 18px;
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            margin: 20px 0 32px;
        }

        /* Tablet ve √ºzeri */
        @media (min-width: 768px) {
            .gallery {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
            .header h1 {
                font-size: 2.7rem;
            }
        }

        /* Daha geni≈ü ekran */
        @media (min-width: 1024px) {
            .gallery {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }
        }

        /* √áok k√º√ß√ºk ekranlar */
        @media (max-width: 480px) {
            .gallery {
                grid-template-columns: 1fr;
                gap: 14px;
            }
            .header h1 {
                font-size: 2rem;
            }
            .header p {
                font-size: 0.98rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- √úST BA≈ûLIK -->
        <header class="header">
            <h1>
                üéØ Bildbeschreibung Training
                <a target="_blank" href="https://t.me/dtz_bildbeschreibung">
                    <img src="/ico_teleg.svg" alt="Telegram Gruppe">
                </a>
            </h1>
            <p>Lerne Bildbeschreibung auf Deutsch ‚Äì einfach, strukturiert und stressfrei.</p>
        </header>

        <!-- ƒ∞STATƒ∞STƒ∞K / Bƒ∞LGƒ∞ -->
        <div class="stats">
            Insgesamt <span id="total-images">36</span> Bilder ¬∑ Ideal f√ºr DTZ / B1 / B2 Pr√ºfungsvorbereitung
        </div>
        <div class="sort-info">
            Die neuesten Bilder erscheinen oben. Klicke auf ein Bild, um detailliert zu √ºben (Hotspots + B1-Text + Timer).
        </div>

        <!-- GALERƒ∞ (ARTIK Dƒ∞NAMƒ∞K) -->
        <section class="gallery" id="gallery">
            <!-- Kartlar JavaScript ile dinamik √ºretilecek -->
        </section>

        <!-- SAYFA GE√áƒ∞≈ûƒ∞ -->
        <div class="pagination">
            <button id="btn-prev">
                ‚Üê Zur√ºck
            </button>

            <div class="page-info">
                Seite <span id="page-current">1</span> von <span id="page-total">3</span>
                <span style="opacity:0.85; font-weight:400;">
                    (Bilder <span id="page-range">25‚Äì36</span>)
                </span>
            </div>

            <button id="btn-next">
                Weiter ‚Üí
            </button>
        </div>
    </div>

    <script>
        // Genel ayarlar
        const TOTAL_IMAGES = 36;          // Toplam bild sayƒ±sƒ±
        const IMAGES_PER_PAGE = 12;       // Sayfa ba≈üƒ±na resim
        const NEW_BADGE_COUNT = 6;        // Son ka√ß resme "NEU" gelsin

        // URL'den ?page= parametresini oku
        const params = new URLSearchParams(window.location.search);
        let CURRENT_PAGE = parseInt(params.get('page') || '1', 10);

        const TOTAL_PAGES = Math.ceil(TOTAL_IMAGES / IMAGES_PER_PAGE);

        // G√ºvenlik: page sƒ±nƒ±rlarƒ±nƒ± kontrol et
        if (CURRENT_PAGE < 1) CURRENT_PAGE = 1;
        if (CURRENT_PAGE > TOTAL_PAGES) CURRENT_PAGE = TOTAL_PAGES;

        // DOM elementleri
        const galleryEl = document.getElementById('gallery');
        const pageCurrentEl = document.getElementById('page-current');
        const pageTotalEl = document.getElementById('page-total');
        const pageRangeEl = document.getElementById('page-range');
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');

        // Toplam resim sayƒ±sƒ±nƒ± g√∂ster
        document.getElementById('total-images').textContent = TOTAL_IMAGES;

        function openImage(imageNumber) {
            window.location.href = 'bild/' + imageNumber + '/';
        }

        function changePage(page) {
            if (page >= 1 && page <= TOTAL_PAGES) {
                // URL'de page parametresini deƒüi≈ütir
                const url = new URL(window.location.href);
                url.searchParams.set('page', page);
                window.location.href = url.toString();
            }
        }

        function renderPaginationInfo() {
            pageCurrentEl.textContent = CURRENT_PAGE;
            pageTotalEl.textContent = TOTAL_PAGES;

            // √ñrn: 25‚Äì36
            const startNumber = TOTAL_IMAGES - (CURRENT_PAGE - 1) * IMAGES_PER_PAGE;
            const endNumber = Math.max(startNumber - IMAGES_PER_PAGE + 1, 1);
            pageRangeEl.textContent = endNumber + '‚Äì' + startNumber;

            // Butonlarƒ± aktif/pasif yap
            btnPrev.disabled = (CURRENT_PAGE <= 1);
            btnNext.disabled = (CURRENT_PAGE >= TOTAL_PAGES);
        }

        function renderGallery() {
            // √ñnce temizle
            galleryEl.innerHTML = '';

            const startNumber = TOTAL_IMAGES - (CURRENT_PAGE - 1) * IMAGES_PER_PAGE;
            const endNumber = Math.max(startNumber - IMAGES_PER_PAGE + 1, 1);

            // B√ºy√ºk numaradan k√º√ß√ºƒüe doƒüru yaz (36, 35, 34, ...)
            for (let num = startNumber; num >= endNumber; num--) {
                const isNew = num > (TOTAL_IMAGES - NEW_BADGE_COUNT);

                const card = document.createElement('div');
                card.className = 'image-card';
                card.onclick = () => openImage(num);

                const img = document.createElement('img');
                img.className = 'image-preview';
                img.src = 'bild/' + num + '/1.jpg';
                img.alt = 'Bild ' + num;

                const info = document.createElement('div');
                info.className = 'image-info';

                const numberDiv = document.createElement('div');
                numberDiv.className = 'image-number';
                numberDiv.textContent = 'Bild ' + num;

                if (isNew) {
                    const badge = document.createElement('span');
                    badge.className = 'new-badge';
                    badge.textContent = 'NEU';
                    numberDiv.appendChild(badge);
                }

                const subtitle = document.createElement('div');
                subtitle.className = 'image-subtitle';
                subtitle.textContent = 'Klicken zum √úben';

                info.appendChild(numberDiv);
                info.appendChild(subtitle);

                card.appendChild(img);
                card.appendChild(info);

                galleryEl.appendChild(card);
            }

            // G√∂rsel y√ºklenmezse kartƒ± gizle
            const images = document.querySelectorAll('.image-preview');
            images.forEach(img => {
                img.onerror = function() {
                    const card = this.closest('.image-card');
                    if (card) {
                        card.style.display = 'none';
                    }
                };
            });
        }

        // Buton click eventleri
        btnPrev.addEventListener('click', () => changePage(CURRENT_PAGE - 1));
        btnNext.addEventListener('click', () => changePage(CURRENT_PAGE + 1));

        // Klavye ile sayfa deƒüi≈ütirme
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft' && CURRENT_PAGE > 1) {
                changePage(CURRENT_PAGE - 1);
            } else if (event.key === 'ArrowRight' && CURRENT_PAGE < TOTAL_PAGES) {
                changePage(CURRENT_PAGE + 1);
            }
        });

        // Sayfa y√ºklenince her ≈üeyi √ßiz
        document.addEventListener('DOMContentLoaded', function() {
            renderPaginationInfo();
            renderGallery();
        });
    </script>
</body>
</html>
